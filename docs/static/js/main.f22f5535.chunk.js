(this["webpackJsonptodo-react-redux"]=this["webpackJsonptodo-react-redux"]||[]).push([[0],{215:function(e,t,n){"use strict";n.r(t);n(175);var a,i=n(128),r=n(264),c=n(25),o=n(0),s=n.n(o),l=n(14),d=n.n(l),u=n(23),j=n(51),b=n(58),O=n(246),p=n(21),m=n(253),h=n(261),v=n(262),x=n(263),f=n(258),g=n(220),D=n(69),y=n(276),w=n(268),C=n(153),N=n.n(C),I=n(20),S=n(15),k=n(27),M=n(265),L=n(107),A=function e(t){var n=t.id,a=void 0===n?void 0:n,i=t.title,r=void 0===i?"":i;Object(L.a)(this,e),this.id=void 0,this.title=void 0,this.id=null!==a&&void 0!==a?a:Object(k.e)(),this.title=r};!function(e){e[e.NONE=0]="NONE",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH"}(a||(a={}));var T="dd.MM.yyyy",P=function e(t){var n=t.id,i=void 0===n?void 0:n,r=t.title,c=void 0===r?"":r,o=t.description,s=void 0===o?"":o,l=t.creationDate,d=void 0===l?void 0:l,u=t.dueDate,j=void 0===u?void 0:u,b=t.priority,O=void 0===b?a.NONE:b,p=t.completionDate,m=void 0===p?void 0:p,h=t.labels,v=void 0===h?[]:h;Object(L.a)(this,e),this.id=void 0,this.title=void 0,this.description=void 0,this.creationDate=void 0,this.dueDate=void 0,this.priority=void 0,this.completionDate=void 0,this.labels=void 0,this.id=null!==i&&void 0!==i?i:Object(k.e)(),this.title=c,this.description=s,this.creationDate=null!==d&&void 0!==d?d:(new Date).toISOString(),this.dueDate=j,this.priority=O,this.completionDate=m,this.labels=v},W=[Object(S.a)({},new A({id:"oYS6jCV-9_r6-gApwP-a0",title:"Work"})),Object(S.a)({},new A({id:"6upNOC-XWS_LKn0Cdcgc_",title:"Leisure"})),Object(S.a)({},new A({id:"HrlBY9eBGad8ShNV5XWry",title:"Personal"}))],E=[Object(S.a)({},new P({description:"It is imperative",title:"Make this app work",priority:a.HIGH,dueDate:"2021-04-27",labels:[W[0].id]})),Object(S.a)({},new P({description:"Maybe play some video games?",title:"Relax a bit",dueDate:"2021-04-12",labels:[W[1].id]})),Object(S.a)({},new P({title:"Have some fun"})),Object(S.a)({},new P({title:"Workout!",priority:a.MEDIUM,labels:[W[2].id]})),Object(S.a)({},new P({title:"Do the laundry",dueDate:"2021-04-16"})),Object(S.a)({},new P({description:"Just a bit",title:"Try to document it",priority:a.LOW,dueDate:"2021-04-16",labels:[W[0].id,W[1].id]})),Object(S.a)({},new P({description:"Hello!",title:"Publish this on GitHub",completionDate:"2021-04-09T18:28:39.266Z"}))],H=function(e,t){return(e.dueDate?new Date(e.dueDate).getTime():1/0)-(t.dueDate?new Date(t.dueDate).getTime():1/0)},B=Object(k.c)({sortComparer:function(e,t){var n=(e.completionDate?new Date(e.completionDate).getTime():1/0)-(t.completionDate?new Date(t.completionDate).getTime():1/0);if(0!==n&&!isNaN(n))return-1*n;var a=t.priority-e.priority;if(0!==a)return a;var i=H(e,t);return 0===i||isNaN(i)?new Date(e.creationDate).getTime()-new Date(t.creationDate).getTime():i}}),F=B.getInitialState(),G=B.upsertMany(F,E),z=Object(k.d)({name:"todos",initialState:G,reducers:{create:{prepare:function(e){var t=new P(e);return{payload:Object(S.a)({},t)}},reducer:B.addOne},update:B.updateOne,remove:B.removeOne}}),U=z.actions,_=z.reducer,J=B.getSelectors((function(e){return e.todos})),K=Object(k.b)([J.selectAll,function(e,t){return t}],(function(e,t){return t?e.filter((function(e){return e.labels.includes(t)})):e})),V=Object(k.b)(K,(function(e){return e.filter((function(e){return!e.completionDate}))})),X=Object(k.b)(V,(function(e){return e.filter((function(e){return e.dueDate})).sort(H).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{formatedDueDate:Object(M.a)(new Date(e.dueDate),T)})}))})),Y=Object(S.a)(Object(S.a)({},J),{},{selectAll:K,selectAllIncomplete:V,selectWithDueDate:X}),R=n(275),Z=n(252),q=n(270),Q=n(248),$=n(271),ee=n(254),te=n(255),ne=n(267),ae=n(250),ie=n(257),re=n(88),ce=n.n(re),oe=n(266),se=n(272),le=Object(k.c)({sortComparer:function(e,t){return e.title.toLocaleLowerCase().localeCompare(t.title.toLocaleLowerCase())}}),de=le.getInitialState(),ue=le.upsertMany(de,W),je=Object(k.d)({name:"labels",initialState:ue,reducers:{create:{prepare:function(e){var t=e.title,n=new A({title:t});return{payload:Object(S.a)({},n)}},reducer:le.addOne},remove:le.removeOne}}),be=(je.actions,je.reducer),Oe=le.getSelectors((function(e){return e.labels})),pe=Object(k.b)([Oe.selectEntities,Oe.selectIds,function(e,t){return t}],(function(e,t,n){return t.reduce((function(t,a){return n.includes(a)&&t.push(e[a]),t}),[])})),me=Object(S.a)(Object(S.a)({},Oe),{},{selectByIds:pe}),he=n(5),ve=Object(O.a)((function(e){return{label:{marginLeft:e.spacing(1)}}}));function xe(e){var t=e.value,n=ve(),a=Object(u.c)((function(e){return me.selectByIds(e,t)}));return Object(he.jsx)(he.Fragment,{children:a.map((function(e){return Object(he.jsx)(se.a,{className:n.label,label:e.title},e.id)}))})}var fe=s.a.memo(xe),ge=n(155);function De(e){var t=e.SelectProps,n=Object(ge.a)(e,["SelectProps"]),a=Object(u.c)(me.selectAll);return Object(he.jsx)(ne.a,Object(S.a)(Object(S.a)({fullWidth:!0,label:"Labels",select:!0,SelectProps:Object(S.a)({multiple:!0},t)},n),{},{children:a.map((function(e){return Object(he.jsx)(ae.a,{value:e.id,children:e.title},e.id)}))}))}var ye=s.a.memo(De),we=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},accordion:{position:"relative",overflow:"hidden","&:after":{background:function(t){var n=t.priority;return n===a.LOW?e.palette.success.light:n===a.MEDIUM?e.palette.info.light:n===a.HIGH?e.palette.error.light:"none"},content:'""',height:"100%",left:0,position:"absolute",top:0,width:5}},accordionDetails:{paddingTop:0},accordionSummaryContent:{alignItems:"center",display:"flex",flex:1},title:{margin:0,"&:before":{borderColor:"transparent"}},dueDate:{color:function(t){return t.overdue?e.palette.error.light:e.palette.text.secondary},paddingLeft:e.spacing(1)}}}));function Ce(e){var t=e.id,n=e.title,i=e.description,r=e.completionDate,c=e.dueDate,o=e.labels,l=e.priority,d=Object(u.b)(),j=s.a.useCallback((function(){return d(U.remove(t))}),[t]),b=s.a.useCallback((function(e){return d(U.update({id:t,changes:e}))}),[t]),O=s.a.useMemo((function(){return Boolean(c&&new Date>new Date(c))}),[c]),p=we({overdue:O,priority:l});return Object(he.jsx)(w.a,{className:p.root,children:Object(he.jsxs)(R.a,{className:p.accordion,TransitionProps:{unmountOnExit:!0},children:[Object(he.jsx)(Z.a,{expandIcon:Object(he.jsx)(ce.a,{}),children:Object(he.jsxs)("div",{className:p.accordionSummaryContent,onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},children:[Object(he.jsx)(q.a,{checked:!!r,onChange:function(e){b({completionDate:e.target.checked?(new Date).toISOString():void 0})}}),Object(he.jsx)(Q.a,{className:p.title,fullWidth:!0,onChange:function(e){return b({title:e.target.value})},value:n}),Object(he.jsx)($.a,{smDown:!0,children:Object(he.jsx)(fe,{value:o})}),c?Object(he.jsx)(D.a,{className:p.dueDate,variant:"body2",children:Object(M.a)(new Date(c),"dd.MM.yyyy")}):null]})}),Object(he.jsx)(ee.a,{className:p.accordionDetails,children:Object(he.jsxs)(te.a,{container:!0,spacing:2,children:[Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:6,children:Object(he.jsx)(ne.a,{fullWidth:!0,label:"Notes",multiline:!0,onChange:function(e){return b({description:e.target.value})},rows:8,value:i})}),Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:6,children:Object(he.jsxs)(te.a,{container:!0,spacing:2,children:[Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:6,children:Object(he.jsx)(oe.a,{disableToolbar:!0,format:T,fullWidth:!0,label:"Due date",onChange:function(e){(null===e||void 0===e?void 0:e.getTime)&&!isNaN(e.getTime())?b({dueDate:e.toISOString().split("T")[0]}):null===e&&b({dueDate:void 0})},value:c||null,variant:"inline"})}),Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:6,children:Object(he.jsxs)(ne.a,{fullWidth:!0,label:"Priority",select:!0,value:l,onChange:function(e){return b({priority:parseInt(e.target.value)})},children:[Object(he.jsx)(ae.a,{value:a.NONE,children:"None"}),Object(he.jsx)(ae.a,{value:a.LOW,children:"Low"}),Object(he.jsx)(ae.a,{value:a.MEDIUM,children:"Medium"}),Object(he.jsx)(ae.a,{value:a.HIGH,children:"High"})]})}),Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:12,children:Object(he.jsx)(ye,{onChange:function(e){return b({labels:e.target.value})},value:o})}),Object(he.jsx)(te.a,{item:!0,xs:12,sm:12,md:12,children:Object(he.jsx)(ie.a,{onClick:j,children:"Delete"})})]})})]})})]})})}var Ne=s.a.memo(Ce),Ie=n.p+"static/media/happy.96f71ab0.svg",Se=Object(O.a)((function(e){return{dueDate:{marginLeft:e.spacing(2),marginBottom:e.spacing(1),marginTop:e.spacing(3),"&:first-of-type":{marginTop:0}},iconContainer:{textAlign:"center"},icon:{height:250,margin:"".concat(e.spacing(5),"px 0")},iconCredits:{color:e.palette.text.secondary,fontSize:10,opacity:.25},iconCreditsLink:{color:"".concat(e.palette.text.secondary," !important")}}}));function ke(){var e=Se(),t=Object(u.c)(Y.selectWithDueDate);return Object(he.jsx)("div",{children:t.length>0?t.map((function(t,n,a){var i;return Object(he.jsxs)(s.a.Fragment,{children:[t.formatedDueDate!==(null===(i=a[n-1])||void 0===i?void 0:i.formatedDueDate)?Object(he.jsx)(D.a,{className:e.dueDate,variant:"h5",children:t.formatedDueDate}):null,Object(he.jsx)(Ne,Object(S.a)({},t),t.id)]},t.id)})):Object(he.jsxs)("div",{className:e.iconContainer,children:[Object(he.jsx)("img",{className:e.icon,src:Ie}),Object(he.jsx)(D.a,{variant:"h4",children:"All done, you're awesome!"}),Object(he.jsxs)(D.a,{className:e.iconCredits,color:"secondary",variant:"body2",children:["Icon from"," ",Object(he.jsx)("a",{className:e.iconCreditsLink,href:"https://www.flaticon.com/free-icon/happy_2374630",target:"_blank",rel:"noreferrer",children:"Flaticon"})]})]})})}var Me=s.a.memo(ke),Le=n(249),Ae=n(219),Te=n(260),Pe=n(251),We=n(149),Ee=n.n(We),He="/",Be="/calendar",Fe={path:"/label/:id",to:function(e){return"/label/".concat(e)}},Ge=Object(O.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},linkActive:{background:e.palette.action.selected}}}));function ze(){var e=Ge(),t=s.a.useState(!0),n=Object(b.a)(t,2),a=n[0],i=n[1],r=Object(u.c)(me.selectAll);return Object(he.jsxs)(Le.a,{component:"nav",children:[Object(he.jsx)(Ae.a,{button:!0,component:j.b,exact:!0,to:He,activeClassName:e.linkActive,children:Object(he.jsx)(Te.a,{primary:"Overview"})}),Object(he.jsx)(Ae.a,{button:!0,component:j.b,to:Be,activeClassName:e.linkActive,children:Object(he.jsx)(Te.a,{primary:"Calendar"})}),Object(he.jsxs)(Ae.a,{button:!0,onClick:function(){return i(!a)},children:[Object(he.jsx)(Te.a,{primary:"Labels"}),a?Object(he.jsx)(Ee.a,{}):Object(he.jsx)(ce.a,{})]}),Object(he.jsx)(Pe.a,{in:a,timeout:"auto",children:Object(he.jsx)(Le.a,{component:"div",disablePadding:!0,children:r.map((function(t){return Object(he.jsx)(Ae.a,{button:!0,component:j.b,to:Fe.to(t.id),className:e.nested,activeClassName:e.linkActive,children:Object(he.jsx)(Te.a,{secondary:t.title})},t.id)}))})})]})}var Ue=s.a.memo(ze),_e=n(259),Je=n(150),Ke=n.n(Je),Ve=n(152),Xe=n.n(Ve),Ye=n(151),Re=n.n(Ye),Ze=Object(O.a)({textfield:{margin:0},button:{height:"100%"}});function qe(){var e=Ze(),t=Object(I.f)().id,n=Object(u.c)((function(e){return me.selectById(e,t)})),a=s.a.useState(""),i=Object(b.a)(a,2),r=i[0],c=i[1],o=s.a.useState(!1),l=Object(b.a)(o,2),d=l[0],j=l[1],O=Object(u.c)((function(e){return d?Y.selectAll(e,t):Y.selectAllIncomplete(e,t)})),p=Object(u.c)((function(e){return Y.selectAll(e,t).length-Y.selectAllIncomplete(e,t).length})),m=Object(u.b)();return Object(he.jsxs)(he.Fragment,{children:[O.map((function(e){return Object(he.jsx)(Ne,Object(S.a)({},e),e.id)})),Object(he.jsxs)(te.a,{container:!0,spacing:2,children:[Object(he.jsx)(te.a,{item:!0,xs:12,sm:9,md:10,children:Object(he.jsx)(ne.a,{className:e.textfield,fullWidth:!0,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){if("Enter"===e.key&&r.length>0){var n=t?[t]:[];m(U.create({title:r,labels:n})),c("")}},placeholder:"Plan something new",value:r,InputProps:{startAdornment:Object(he.jsx)(_e.a,{position:"start",children:Object(he.jsx)(Ke.a,{})}),endAdornment:n?n.title:null}})}),Object(he.jsx)(te.a,{item:!0,xs:12,sm:3,md:2,children:Object(he.jsxs)(ie.a,{className:e.button,fullWidth:!0,onClick:function(){return j(!d)},size:"medium",startIcon:d?Object(he.jsx)(Re.a,{}):Object(he.jsx)(Xe.a,{}),variant:"text",children:["Done (",p,")"]})})]})]})}var Qe=s.a.memo(qe),$e=Object(O.a)((function(e){return{appContainer:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawerOpen:{transition:e.transitions.create("width",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),width:240},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:0},drawerPaper:{width:240},link:{color:"#ffffff",textDecoration:"none"},linkActive:{textDecoration:"underline"}}}));var et=function(){var e=Object(p.a)(),t=Object(m.a)(e.breakpoints.up("md"),{noSsr:!0}),n=s.a.useState(t),a=Object(b.a)(n,2),i=a[0],r=a[1];s.a.useEffect((function(){return r(t)}),[t]);var c=$e();return Object(he.jsxs)(h.a,{className:c.appContainer,disableGutters:!0,children:[Object(he.jsx)(v.a,{}),Object(he.jsx)(x.a,{className:c.appBar,position:"fixed",children:Object(he.jsxs)(f.a,{children:[Object(he.jsx)(g.a,{onClick:function(){return r(!i)},edge:"start",children:Object(he.jsx)(N.a,{})}),Object(he.jsx)(D.a,{variant:"h6",children:"GNOME-ish Todo"})]})}),Object(he.jsxs)(y.a,{anchor:"left",classes:{root:i?c.drawerOpen:c.drawerClose,paper:c.drawerPaper},open:i,variant:"persistent",children:[Object(he.jsx)(f.a,{}),Object(he.jsx)(Ue,{})]}),Object(he.jsxs)(w.a,{m:3,width:"100%",children:[Object(he.jsx)(f.a,{}),Object(he.jsxs)(I.c,{children:[Object(he.jsx)(I.a,{exact:!0,path:He,children:Object(he.jsx)(Qe,{})}),Object(he.jsx)(I.a,{path:Be,children:Object(he.jsx)(Me,{})}),Object(he.jsx)(I.a,{path:Fe.path,children:Object(he.jsx)(Qe,{})})]})]})]})},tt=Object(k.a)({reducer:{labels:be,todos:_}}),nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,278)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},at=n(154),it=Object(at.a)({palette:{type:"dark"},props:{MuiTextField:{margin:"dense",variant:"outlined"},MuiButton:{size:"small",variant:"outlined"},MuiSelect:{MenuProps:{variant:"menu",getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}}}}});d.a.render(Object(he.jsx)(s.a.StrictMode,{children:Object(he.jsx)(u.a,{store:tt,children:Object(he.jsx)(j.a,{children:Object(he.jsx)(r.a,{theme:it,children:Object(he.jsx)(c.a,{utils:i.a,children:Object(he.jsx)(et,{})})})})})}),document.getElementById("root")),nt()}},[[215,1,2]]]);
//# sourceMappingURL=main.f22f5535.chunk.js.map